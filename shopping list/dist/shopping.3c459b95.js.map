{"version":3,"sources":["shopping.js"],"names":["shoppingForm","document","querySelector","list","items","handleSubmit","e","preventDefault","name","currentTarget","item","value","console","log","id","Date","now","complete","push","target","reset","dispatchEvent","CustomEvent","displayItem","html","map","concat","join","innerHTML","mirrorToLocalStorage","info","localStorage","setItem","JSON","stringify","restoreFromLocalStorage","listItemString","getItem","_items","lstItem","parse","apply","_toConsumableArray","markAsComplete","itemRef","find","deleteItem","filter","addEventListener","parseInt","matches"],"mappings":"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","file":"shopping.3c459b95.js","sourceRoot":"..","sourcesContent":["// console.log('it works')\nconst shoppingForm = document.querySelector(`.shopping`);\nconst list = document.querySelector(`.list`);\n\n//need array to hold our state\nlet items = [];\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n  // console.log('submitted');\n\n  const name = e.currentTarget.item.value;\n  console.log(\"name:: \");\n  if (!name) return; //if it is emty then stop from running it\n\n  const item = {\n    name,\n    id: Date.now(),\n    complete: false,\n  };\n\n  //push the item into our state\n  items.push(item);\n  // console.log(`there are now ${items.length} in your state`);\n  e.target.reset(); //clear form\n  list.dispatchEvent(new CustomEvent(`itemsUpdated`));\n}\n\nfunction displayItem() {\n  // console.log('items: ', items);\n  const html = items\n    .map(\n      (item) => `<li class = \"shopping-item\">\n        <input value=\"${item.id}\" type = 'checkbox' ${\n        item.complete ? \"checked\" : \"\"\n      }>\n        <span class = 'itemName'>${item.name}</span>\n        <button aria-label='Remove ${item.name}' value=\"${\n        item.id\n      }\">&times</button>\n        </li>`\n    )\n    .join(\"\");\n  list.innerHTML = html;\n}\n\nfunction mirrorToLocalStorage() {\n  console.log(\"mirrorToLocalStorages\");\n  console.info(`saving items to localstorage`);\n  localStorage.setItem(`items`, JSON.stringify(items));\n}\n\nfunction restoreFromLocalStorage() {\n  console.info(`restoring from LS`);\n  const listItemString = localStorage.getItem(`items`);\n  if (listItemString) {\n    const lstItem = JSON.parse(listItemString);\n    // items = lstItem;\n    items.push(...lstItem);\n    list.dispatchEvent(new CustomEvent(`itemsUpdated`));\n  }\n}\n\nfunction markAsComplete(id) {\n  console.log(`mark as complete`, id);\n  const itemRef = items.find((item) => item.id === id);\n  console.log(itemRef);\n  itemRef.complete = !itemRef.complete;\n  list.dispatchEvent(new CustomEvent(`itemsUpdated`));\n}\n\nfunction deleteItem(id) {\n  console.log(\"DELETIENG ITEM\", id);\n  items = items.filter((item) => item.id !== id);\n  console.log(items);\n  list.dispatchEvent(new CustomEvent(`itemsUpdated`));\n}\n\nshoppingForm.addEventListener(`submit`, handleSubmit);\nlist.addEventListener(`itemsUpdated`, displayItem);\nlist.addEventListener(`itemsUpdated`, mirrorToLocalStorage);\n\n//Event delegation: we listen or the click on the list <ul> but then delegate the click over to the button if that is what was clicked\nlist.addEventListener(`click`, function (e) {\n  const id = parseInt(e.target.value);\n  if (e.target.matches(`button`)) {\n    deleteItem(id);\n  }\n\n  if (e.target.matches(`input[type=\"checkbox\"]`)) {\n    markAsComplete(id);\n  }\n});\n\nrestoreFromLocalStorage();\n"]}